<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”„ FP Universal Unit Converter</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>ğŸ”„ FP Universal Unit Converter</h1>
        <p>Conversor universal com 20+ categorias</p>
        <div class="header-controls">
            <select id="themeSelector">
                <option value="light">â˜€ï¸ Light</option>
                <option value="dark">ğŸŒ™ Dark</option>
                <option value="high-contrast">âš« High Contrast</option>
            </select>
        </div>
    </header>

    <nav class="tabs">
        <button class="tab-btn active" data-tab="converter">Converter</button>
        <button class="tab-btn" data-tab="view-all">Ver Todas</button>
        <button class="tab-btn" data-tab="history">HistÃ³rico</button>
        <button class="tab-btn" data-tab="rates">Taxas Moeda</button>
        <button class="tab-btn" data-tab="favorites">Favoritos</button>
    </nav>

    <main>
        <!-- TAB: CONVERTER -->
        <section id="tab-converter" class="tab-content active">
            <div class="converter-layout">
                <div class="converter-main">
                    <div class="category-selector">
                        <label for="categorySelect">Categoria:</label>
                        <select id="categorySelect"></select>
                    </div>

                    <div class="conversion-box">
                        <div class="conversion-from">
                            <label for="fromUnit">De:</label>
                            <select id="fromUnit"></select>
                            <input type="text" id="fromValue" placeholder="Digite o valor ou expressÃ£o (ex: 100 + 50)">
                            <small class="calc-hint">ğŸ’¡ Aceita expressÃµes: 10 + 5 * 2</small>
                        </div>

                        <div class="conversion-swap">
                            <button id="btnSwap" class="btn-icon" title="Inverter">ğŸ”„</button>
                        </div>

                        <div class="conversion-to">
                            <label for="toUnit">Para:</label>
                            <select id="toUnit"></select>
                            <div class="result-display">
                                <input type="text" id="toValue" readonly placeholder="Resultado">
                                <button id="btnCopy" class="btn-icon-small" title="Copiar">ğŸ“‹</button>
                            </div>
                        </div>
                    </div>

                    <div class="conversion-actions">
                        <button id="btnClear" class="btn btn-secondary">ğŸ—‘ï¸ Limpar</button>
                        <button id="btnFavorite" class="btn btn-accent">â­ Favoritar</button>
                    </div>

                    <div class="conversion-info">
                        <p id="conversionFormula"></p>
                    </div>
                </div>

                <aside class="favorites-sidebar">
                    <h3>âš¡ Acesso RÃ¡pido</h3>
                    <div id="quickFavorites"></div>
                </aside>
            </div>
        </section>

        <!-- TAB: VER TODAS -->
        <section id="tab-view-all" class="tab-content">
            <div class="view-all-header">
                <h2>ConversÃ£o MÃºltipla</h2>
                <p>Converta um valor para todas as unidades da categoria selecionada</p>
            </div>

            <div class="view-all-controls">
                <div class="form-group">
                    <label>Categoria:</label>
                    <select id="viewAllCategory"></select>
                </div>
                <div class="form-group">
                    <label>Unidade de Origem:</label>
                    <select id="viewAllFromUnit"></select>
                </div>
                <div class="form-group">
                    <label>Valor:</label>
                    <input type="text" id="viewAllValue" placeholder="Digite o valor">
                </div>
                <button id="btnConvertAll" class="btn btn-primary">ğŸ”„ Converter Tudo</button>
            </div>

            <div id="viewAllResults" class="view-all-results"></div>
        </section>

        <!-- TAB: HISTÃ“RICO -->
        <section id="tab-history" class="tab-content">
            <div class="history-header">
                <h2>HistÃ³rico de ConversÃµes</h2>
                <div class="history-actions">
                    <select id="filterHistoryCategory">
                        <option value="">Todas as categorias</option>
                    </select>
                    <button id="btnClearHistory" class="btn btn-secondary">ğŸ—‘ï¸ Limpar HistÃ³rico</button>
                    <button id="btnExportHistoryCSV" class="btn btn-accent">ğŸ“¥ Export CSV</button>
                </div>
            </div>

            <div id="historyList" class="history-list"></div>
        </section>

        <!-- TAB: TAXAS MOEDA -->
        <section id="tab-rates" class="tab-content">
            <div class="rates-header">
                <h2>Gerenciar Taxas de CÃ¢mbio</h2>
                <p class="rates-info">
                    <strong>Base:</strong> BRL = 1.00 |
                    <strong>Ãšltima atualizaÃ§Ã£o:</strong> <span id="ratesLastUpdate">Nunca</span>
                </p>
                <div class="rates-actions">
                    <button id="btnSaveRates" class="btn btn-primary">ğŸ’¾ Salvar Taxas</button>
                    <button id="btnResetRates" class="btn btn-secondary">ğŸ”„ Restaurar PadrÃ£o</button>
                </div>
            </div>

            <div class="rates-sources">
                <p>ğŸ“Š <strong>Fontes sugeridas:</strong>
                    <a href="https://www.bcb.gov.br/conversao" target="_blank">Banco Central</a> |
                    <a href="https://www.google.com/search?q=cotaÃ§Ã£o+dolar" target="_blank">Google</a> |
                    <a href="https://www.xe.com" target="_blank">XE.com</a>
                </p>
            </div>

            <div id="ratesTable" class="rates-table"></div>
        </section>

        <!-- TAB: FAVORITOS -->
        <section id="tab-favorites" class="tab-content">
            <div class="favorites-header">
                <h2>ConversÃµes Favoritas</h2>
                <button id="btnAddFavorite" class="btn btn-primary">+ Adicionar Favorito</button>
            </div>

            <div id="favoritesList" class="favorites-list"></div>
        </section>
    </main>

    <!-- MODAL: ADICIONAR FAVORITO -->
    <div id="favoriteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Adicionar ConversÃ£o Favorita</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="favoriteForm">
                <div class="form-group">
                    <label>Nome:</label>
                    <input type="text" id="favoriteName" placeholder="Ex: Minha altura em pÃ©s" required>
                </div>
                <div class="form-group">
                    <label>Categoria:</label>
                    <select id="favoriteCategory" required></select>
                </div>
                <div class="form-group">
                    <label>De:</label>
                    <select id="favoriteFrom" required></select>
                </div>
                <div class="form-group">
                    <label>Para:</label>
                    <select id="favoriteTo" required></select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary modal-close">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <footer>
        <p>Â© 2025 Fernando Pimenta | Sprint Lab #27 | <span id="totalCategories"></span> categorias disponÃ­veis</p>
        <div class="footer-actions">
            <button id="btnExportJSON" class="btn btn-secondary">ğŸ“¥ Export JSON</button>
            <button id="btnImportJSON" class="btn btn-secondary">ğŸ“¤ Import JSON</button>
            <input type="file" id="importFileInput" accept=".json" style="display: none;">
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>
